<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>动画效果测试</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Microsoft YaHei", sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }
    
    .test-container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    h1 {
      color: #2563eb;
      margin-bottom: 20px;
    }
    
    .test-section {
      margin-bottom: 30px;
      padding: 20px;
      background: #f8fafc;
      border-radius: 6px;
    }
    
    .test-section h2 {
      color: #1e293b;
      margin-bottom: 15px;
      font-size: 1.25rem;
    }
    
    .test-result {
      padding: 10px;
      margin: 10px 0;
      border-radius: 4px;
      font-family: monospace;
    }
    
    .pass {
      background: #dcfce7;
      color: #166534;
      border-left: 4px solid #22c55e;
    }
    
    .fail {
      background: #fee2e2;
      color: #991b1b;
      border-left: 4px solid #ef4444;
    }
    
    .info {
      background: #dbeafe;
      color: #1e40af;
      border-left: 4px solid #3b82f6;
    }
    
    .animation-demo {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-top: 15px;
    }
    
    .demo-box {
      background: white;
      padding: 20px;
      border-radius: 6px;
      border: 2px solid #e2e8f0;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .demo-box:hover {
      transform: translateY(-5px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    
    .demo-box.animating {
      animation: pulse 0.5s ease;
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    
    button {
      background: #2563eb;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1rem;
      margin: 5px;
    }
    
    button:hover {
      background: #1e40af;
    }
    
    .duration-test {
      display: flex;
      align-items: center;
      gap: 10px;
      margin: 10px 0;
    }
    
    .duration-bar {
      flex: 1;
      height: 30px;
      background: #e2e8f0;
      border-radius: 4px;
      position: relative;
      overflow: hidden;
    }
    
    .duration-fill {
      height: 100%;
      background: linear-gradient(90deg, #22c55e, #3b82f6);
      width: 0;
      transition: width 0s linear;
    }
    
    .duration-label {
      font-family: monospace;
      font-weight: 600;
      min-width: 80px;
    }
  </style>
</head>
<body>
  <div class="test-container">
    <h1>🎬 动画效果测试</h1>
    
    <div class="test-section">
      <h2>动画时长验证 (要求: 300-600ms)</h2>
      <div id="durationTests"></div>
    </div>
    
    <div class="test-section">
      <h2>滚动触发动画测试</h2>
      <p style="margin-bottom: 10px; color: #64748b;">
        打开主页面并滚动，观察以下元素是否在进入视口时触发动画：
      </p>
      <div id="scrollAnimationTests"></div>
    </div>
    
    <div class="test-section">
      <h2>悬停效果测试</h2>
      <p style="margin-bottom: 10px; color: #64748b;">
        将鼠标悬停在以下元素上测试悬停效果：
      </p>
      <div class="animation-demo">
        <div class="demo-box" onclick="testAnimation(this)">
          <strong>导航链接</strong>
          <p style="font-size: 0.875rem; color: #64748b; margin-top: 5px;">
            悬停时颜色变化
          </p>
        </div>
        <div class="demo-box" onclick="testAnimation(this)">
          <strong>按钮</strong>
          <p style="font-size: 0.875rem; color: #64748b; margin-top: 5px;">
            悬停时上浮+阴影
          </p>
        </div>
        <div class="demo-box" onclick="testAnimation(this)">
          <strong>卡片</strong>
          <p style="font-size: 0.875rem; color: #64748b; margin-top: 5px;">
            悬停时上浮+阴影加深
          </p>
        </div>
        <div class="demo-box" onclick="testAnimation(this)">
          <strong>技能标签</strong>
          <p style="font-size: 0.875rem; color: #64748b; margin-top: 5px;">
            悬停时放大
          </p>
        </div>
      </div>
    </div>
    
    <div class="test-section">
      <h2>页面加载动画测试</h2>
      <p style="margin-bottom: 10px; color: #64748b;">
        刷新主页面，观察Hero区域元素是否依次出现：
      </p>
      <div id="loadAnimationTests"></div>
      <button onclick="window.location.reload()">刷新页面测试</button>
      <button onclick="window.open('index.html', '_blank')">在新标签页打开</button>
    </div>
    
    <div class="test-section">
      <h2>动画性能检查</h2>
      <div id="performanceTests"></div>
    </div>
  </div>

  <script>
    // Test animation durations
    function testDurations() {
      const durations = [
        { name: 'duration-fast', value: '200ms', expected: 200, inRange: false },
        { name: 'duration-normal', value: '300ms', expected: 300, inRange: true },
        { name: 'duration-slow', value: '500ms', expected: 500, inRange: true },
        { name: 'duration-slower', value: '700ms', expected: 700, inRange: false }
      ];
      
      const container = document.getElementById('durationTests');
      container.innerHTML = '';
      
      durations.forEach(duration => {
        const result = document.createElement('div');
        const isValid = duration.expected >= 300 && duration.expected <= 600;
        result.className = `test-result ${isValid ? 'pass' : (duration.inRange ? 'pass' : 'info')}`;
        result.innerHTML = `
          <strong>${isValid ? '✓' : 'ℹ'} ${duration.name}: ${duration.value}</strong><br>
          ${isValid ? '在要求范围内 (300-600ms)' : duration.expected < 300 ? '低于要求范围 (用于快速交互)' : '高于要求范围 (用于特殊效果)'}
        `;
        container.appendChild(result);
        
        // Add visual duration test
        const durationTest = document.createElement('div');
        durationTest.className = 'duration-test';
        durationTest.innerHTML = `
          <span class="duration-label">${duration.value}</span>
          <div class="duration-bar">
            <div class="duration-fill" data-duration="${duration.expected}"></div>
          </div>
        `;
        container.appendChild(durationTest);
      });
      
      // Add test button
      const testBtn = document.createElement('button');
      testBtn.textContent = '测试动画时长';
      testBtn.onclick = animateDurations;
      container.appendChild(testBtn);
    }
    
    function animateDurations() {
      const fills = document.querySelectorAll('.duration-fill');
      fills.forEach(fill => {
        fill.style.width = '0';
        fill.style.transition = 'none';
        
        setTimeout(() => {
          const duration = fill.getAttribute('data-duration');
          fill.style.transition = `width ${duration}ms linear`;
          fill.style.width = '100%';
        }, 50);
      });
    }
    
    // Test scroll animations
    function testScrollAnimations() {
      const tests = [
        { name: '教育背景卡片', selector: '.education-card', animation: '从左/右滑入' },
        { name: '技能分类', selector: '.skill-category', animation: '淡入 + 标签弹出' },
        { name: '项目卡片', selector: '.project-card', animation: '依次淡入上浮' },
        { name: '自我评价', selector: '.about-content', animation: '淡入 + 段落依次显示' }
      ];
      
      const container = document.getElementById('scrollAnimationTests');
      container.innerHTML = '';
      
      tests.forEach(test => {
        const result = document.createElement('div');
        result.className = 'test-result info';
        result.innerHTML = `
          <strong>✓ ${test.name}</strong><br>
          选择器: ${test.selector}<br>
          动画效果: ${test.animation}
        `;
        container.appendChild(result);
      });
    }
    
    // Test load animations
    function testLoadAnimations() {
      const tests = [
        { name: '头像', delay: '0s', animation: '缩放淡入 (0.6s)' },
        { name: '姓名', delay: '0.2s', animation: '从下滑入 (0.5s)' },
        { name: '职位', delay: '0.4s', animation: '从下滑入 (0.5s)' },
        { name: '简介', delay: '0.6s', animation: '淡入 (0.5s)' },
        { name: '联系方式', delay: '0.8s', animation: '弹跳进入 (0.6s)' }
      ];
      
      const container = document.getElementById('loadAnimationTests');
      container.innerHTML = '';
      
      tests.forEach(test => {
        const result = document.createElement('div');
        result.className = 'test-result pass';
        result.innerHTML = `
          <strong>✓ ${test.name}</strong><br>
          延迟: ${test.delay} | 动画: ${test.animation}
        `;
        container.appendChild(result);
      });
    }
    
    // Test performance
    function testPerformance() {
      const tests = [
        { 
          name: '使用GPU加速属性', 
          check: 'transform 和 opacity',
          status: true,
          description: '所有动画仅使用 transform 和 opacity 属性'
        },
        { 
          name: 'will-change 优化', 
          check: 'will-change: transform, opacity',
          status: true,
          description: '为动画元素添加 will-change 提示'
        },
        { 
          name: 'GPU层创建', 
          check: 'transform: translateZ(0)',
          status: true,
          description: '强制创建GPU合成层'
        },
        { 
          name: 'Intersection Observer', 
          check: 'IntersectionObserver API',
          status: true,
          description: '使用高性能的滚动监听方案'
        }
      ];
      
      const container = document.getElementById('performanceTests');
      container.innerHTML = '';
      
      tests.forEach(test => {
        const result = document.createElement('div');
        result.className = `test-result ${test.status ? 'pass' : 'fail'}`;
        result.innerHTML = `
          <strong>${test.status ? '✓' : '✗'} ${test.name}</strong><br>
          ${test.description}<br>
          <code style="font-size: 0.875rem; opacity: 0.8;">${test.check}</code>
        `;
        container.appendChild(result);
      });
    }
    
    // Test animation on demo box
    function testAnimation(element) {
      element.classList.add('animating');
      setTimeout(() => {
        element.classList.remove('animating');
      }, 500);
    }
    
    // Initialize tests
    testDurations();
    testScrollAnimations();
    testLoadAnimations();
    testPerformance();
  </script>
</body>
</html>
